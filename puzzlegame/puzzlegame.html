<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>game</title>
    <style>
        img {
            height: 250px;
            width: 250px;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td><img id="img1" src="1/1.jpg" alt="11"></td>
            <td><img id="img2" src="2/1.jpg" alt="22"></td>
        </tr>
        <tr>
            <td><img id="img3" src="3/1.jpg" alt="33"></td>
            <td><img id="img4" src="4/1.jpg" alt="44"></td>
        </tr>
    </table>
</body>
</html>
    <script>
        let image1 = document.getElementById("img1");
        let image2 = document.getElementById("img2");
        let image3 = document.getElementById("img3");
        let image4 = document.getElementById("img4");

        image1.addEventListener("click",changeImg1);
        image2.addEventListener("click",changeImg2);
        image3.addEventListener("click",changeImg3);
        image4.addEventListener("click",changeImg4);

        checkforMatch()

        function changeImg1() {
            if (image1.src.match("1/1.jpg")) {
                image1.src = "1/2.jpg";
            } else {
                if (image1.src.match("1/2.jpg")) {
                    image1.src = "1/3.jpg";
                } else {
                    image1.src = "1/1.jpg"
                }
            } checkforMatch()
        }

        function changeImg2() {
             if (image2.src.match("2/1.jpg")) {
                 image2.src = "2/2.jpg";
             } else {
                if (image2.src.match("2/2.jpg")) {
                     image2.src = "2/3.jpg";
                } else {
                    image2.src = "2/1.jpg"
                }
            } checkforMatch()
        }

        function changeImg3() {
            if (image3.src.match("3/1.jpg")) {
                image3.src = "3/2.jpg";
            } else {
                if (image3.src.match("3/2.jpg")) {
                    image3.src = "3/3.jpg";
                } else {
                    image3.src = "3/1.jpg"
                }
            } checkforMatch()
        }

        function changeImg4() {
            if (image4.src.match("4/1.jpg")) {
                image4.src = "4/2.jpg";
            } else {
                if (image4.src.match("4/2.jpg")) {
                    image4.src = "4/3.jpg";
                } else {
                    image4.src = "4/1.jpg"
                }
            } checkforMatch()
        }


        function imgsrc(src) {
            let length = src.length; // lấy độ dài của đoạn src
            let nameIng = src.substring(length-5); // lấy ký tự từ ký tự thứ 5 từ cuối đến hết chuỗi
            return nameIng;
        }


        function checkforMatch() {
            let i1 = imgsrc(document.getElementById("img1").src);
            let i2 = imgsrc(document.getElementById("img2").src);
            let i3 = imgsrc(document.getElementById("img3").src);
            let i4 = imgsrc(document.getElementById("img4").src);

            let nomatchStyle = "2px solid gray";
            let matchStyle = "5px solid red";

            if ((i1 === i2) && (i2 === i3) && (i3 === i4)) {
                image1.style.border = matchStyle;
                image2.style.border = matchStyle;
                image3.style.border = matchStyle;
                image4.style.border = matchStyle;
            } else {
                image1.style.border = nomatchStyle;
                image2.style.border = nomatchStyle;
                image3.style.border = nomatchStyle;
                image4.style.border = nomatchStyle;
               }
           }

    </script>